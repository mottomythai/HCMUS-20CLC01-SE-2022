<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shop Hi 5</title>
  <!-- icon -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css"
    integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <!-- font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400&display=swap" rel="stylesheet">
  <!-- bootstrap -->
  <link rel="stylesheet" href="{% static '/css//bootstrap//bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static '/css//product.css' %}">
  <link rel="stylesheet" href="{% static '/css//style.css' %}">
  <link rel="stylesheet" href="{% static '/css//base.css' %}">

  <!-- js -->


</head>

<body>
  {% include 'hi5/navbar.html' %}

  {% block content %}

  {% endblock %}
  <!-- -----content----- -->
  <div class="content-pd grid">

    <!-- Collapse -->
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <!--Main layout-->
    {% for item in product %}
    <main>
      <div class="container dark-grey-text mt-5">

        <!--Grid row-->
        <div class="row wow fadeIn">

          <!--Grid column-->
          <div class="col-md-6 mb-4">

            <img src="{{item.thumbnail}}" class="img-fluid" alt="">

          </div>
          <!--Grid column-->

          <!--Grid column-->
          <div class="col-md-6 mb-4">

            <!--Content-->
            <div class="p-4">
              <!-- name product -->
              <div class="mb-3">
                <h3>{{item.name}}</h3>
                <p>Item No. {{item.itemno}}</p>
              </div>
              <p class="price">
                {{item.price}}00 VND
              </p>
              <div class="size">
                <span>S</span>
                <span>M</span>
                <span>XL</span>
                <span>XXL</span>
              </div>
              <div class="size-guide row">
                <i class="fa-solid fa-ruler"></i>
                <p>Size guide</p>
              </div>
              <div class="block-center"></div>
              <div class="description">
                <h3>PRODUCT DESCRIPTION</h3>
                <p>{{item.description}}</p>
              </div>

              <div class="block-center"></div>
              <form class="d-flex justify-content-left">
                <!-- Default input -->
                <input type="number" min="0" value="1" aria-label="Search" class="form-control" style="width: 100px">
                <a class="btn btn-primary btn-md my-0 p " href="#" type="submit">Add to cart
                  <i class="fas fa-shopping-cart ml-1"></i>
                </a>

              </form>

            </div>
            <!--Content-->

          </div>
          <!--Grid column-->

        </div>
        <!--Grid row-->

        <hr>

        <!--Grid row-->
        <div class="row d-flex justify-content-center wow fadeIn">

        </div>
        <!--Grid row-->

        <!--Grid row-->
        <div class="row wow fadeIn">

          <!--Grid column-->

          <div class="col-lg-8 col-md-12 mb-6">

            <div id="carouselExampleControls" class="carousel slide w-75" data-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="{{item.thumbnail2}}" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="{{item.thumbnail3}}" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="{{item.thumbnail4}}" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                  <img src="{{item.thumbnail5}}" class="d-block w-100" alt="...">
                </div>
              </div>
              <button class="carousel-control-prev" type="button" data-target="#carouselExampleControls"
                data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </button>
              <button class="carousel-control-next" type="button" data-target="#carouselExampleControls"
                data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </button>
            </div>
          </div>

          <!--Grid column-->
          <div class="col-lg-4 col-md-12 mb-6">
            <div class="row mb-5 mt-5">
              <div class="col-lg-6">
                <img src="{{item.thumbnail2}}" class="img-fluid" alt="">
              </div>
              <div class="col-lg-6">
                <img src="{{item.thumbnail3}}" class="img-fluid" alt="">
              </div>
            </div>
            <div class="row mb-5 mt-5">
              <div class="col-lg-6">
                <img src="{{item.thumbnail4}}" class="img-fluid" alt="">
              </div>
              <div class="col-lg-6">
                <img src="{{item.thumbnail5}}" class="img-fluid" alt="">
              </div>
            </div>

          </div>


        </div>
        <!--Grid column-->
      </div>
      <!--Grid row-->

  </div>

  </main>
  {% endfor %}
  <h4 style="display: flex; justify-content: center; margin-top:100px;font-weight:700;">RECOMMENDED PRODUCTS<h4>
      <hr class="bg-light w-25" style="margin-left:570px;">
      <div class="content grid">
        <div class="container-fluid">
          <div class="row">
            <div class="col-lg-1">
            </div>
            <div class="col-lg-10">
              <div class="row products">
                {% for item in product_list %}
                <div class="col-lg-3">
                  <a class="card-link" href="{% url 'producitem' %}?product={{item.name}}">
                    <div class="card" style="width: 15rem; margin-bottom:24px;height:370px;">
                      <div class="card-img">
                        <img src="{{ item.thumbnail }}" class="card-img-top" alt="..." style="padding:3px 3px;">
                      </div>
                      <div class="card-body">
                        <p class="card-text" style="font-size:16px;">{{ item.name }}</p>
                        <p class="price" style="font-Size:14px;color:#000000a1;">{{ item.price }}.000</p>
                      </div>
                    </div>
                  </a>
                </div>
                {% endfor %}
              </div>
            </div>
            <div class="col-lg-1">
            </div>
          </div>
        </div>
      </div>

      <style>
        .feeback {
          width: 230px;
          font-size: 15px;
          text-align: center;
          background-color: rgba(43, 43, 42, 0.62);
          padding: 15px 15px;
          margin-right: 50px;
          color: #fff;
          margin-top: 10px;
          margin-left: 1200px;
          cursor: pointer;
        }

        .feeback:hover {
          background-color: rgba(80, 80, 80, 0.62);
        }
      </style>
      <div id="feeback-btn" class="rating-box feeback">FEEDBACK ABOUT PRODUCT</div>
      <hr class="bg-light" style="height: 14px;">
      <style>
        .modal-feeback {
          position: fixed;
          top: 0;
          right: 0;
          left: 0;
          bottom: 0;
          display: none;

        }

        .modal-overlay-product {
          position: absolute;
          width: 100%;
          height: 100%;
          background-color: rgba(50, 48, 48, 0.485);

        }

        .star-rating {
          display: flex;
          justify-content: center;
          margin-top: -28px;
        }

        .star {
          cursor: pointer;
          margin-right: 6px;
          color: #999;

        }

        .star i {
          font-size: 15px;
        }

        .star:hover,
        .star:focus,
        .selected {
          color: orange;
        }
      </style>
      <div class="modal-feeback" style="z-index:101">
        <div class="modal-overlay-product">
          <div class="container mt-5">
            <div class="row justify-content-center">
              <div class="col-12 col-md-8 col-lg-6 p-0">
                <div class="card bg-white py-2 px-4">
                  <div class="card-body">
                    <form action="{% url '' %}" method="post">
                      {% csrf_token %}
                      <div style="cursor: pointer;" class="close-icon-feedback float-right"><i class="fa fa-times"></i>
                      </div>
                      <h4 class="card-title mb-4"
                        style="display:flex; justify-content:center;margin-top:40px;margin-bottom:20px;font-size:18px; font-weight:600;">
                        Product Feedback</h4>
                      <p class="card-text mb-4"
                        style="display:flex; justify-content:center;font-size:14px;color:#000000cf;font-family: Arial, sans-serif;">
                        How do you feel about the product?<span
                          style="color:#e74949;margin-left:7px; font-size:19px;">*</span></p>
                      <div class="star-rating">
                        <div class="star" data-value="1"><i class="bi bi-star-fill"></i></div>
                        <div class="star" data-value="2"><i class="bi bi-star-fill"></i></div>
                        <div class="star" data-value="3"><i class="bi bi-star-fill"></i></div>
                        <div class="star" data-value="4"><i class="bi bi-star-fill"></i></div>
                        <div class="star" data-value="5"><i class="bi bi-star-fill"></i></div>
                        <input type="hidden" id="rating" value="0">
                      </div>
                      <p class="card-text mb-4"
                        style="display:flex; justify-content:center;font-size:14px;color:#000000cf;font-family: Arial, sans-serif; margin-top:10px;">
                        Share your thought about this product:</p>
                      <div class="form-group mb-4">
                        <textarea class="form-control" rows="3" name="content"></textarea>
                      </div>
                      <div class="form-group mb-4">
                        <input type="text" class="form-control" placeholder="Name" name="name">
                      </div>
                      <div class="form-group mb-4">
                        <input type="text" class="form-control" placeholder="Phonenumber" name="phone">
                      </div>
                      <div class="form-group mb-4">
                        <input type="text" class="form-control" placeholder="Email" name="email">
                      </div>
                      <button type="submit" class="btn btn-warning w-100">Send</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


      <!-- modal -->
      <div class="modal-product">
        <div class="modal-overlay-product">
          <div class="fechar close-product">
            <div id="btn-close" class="close-icon-product" style="font-size:18px;cursor: pointer;">Close</div>
          </div>
          <div class="modal-body--product">
            <img
              src="https://file.hstatic.net/200000377411/file/109_size_xs_09af04e3fac64f63ac117c17b15b7502_grande.jpg"
              alt="">
          </div>
        </div>
      </div>

      <!-- /modal -->
      <!--Main layout-->
      <!-- -----footer----- -->
      {% include 'hi5/footer.html' %}

      <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
        crossorigin="anonymous"></script>
      <script src="{% static '/js//main.js' %}"></script>
      <script src="{% static '/js//product-item.js' %}"></script>
      <script>
        const close_product = document.querySelector('.close-icon-product')
        const close_feedback = document.querySelector('.close-icon-feedback')
        const feeback = document.getElementById('feeback-btn');
        const modal_product = document.querySelector('.modal-product');
        const modal_feedback = document.querySelector('.modal-feeback');

        feeback.onclick = function () {
          modal_feedback.style.display = 'block';
        }

        close_product.onclick = function () {
          modal_product.style.display = 'none';
        }
        close_feedback.onclick = function () {
          modal_feedback.style.display = 'none';
        }
        const stars = document.querySelectorAll('.star');
        const ratingInput = document.getElementById('rating');
        let star_id = 0;

        for (const star of stars) {
          star.addEventListener('mouseenter', function () {
            const currentIndex = parseInt(this.getAttribute('data-value'), 10);
            for (let i = 0; i < currentIndex; i++) {
              stars[i].querySelector('i').classList.add('selected');
            }
          });

          star.addEventListener('mouseleave', function () {
            for (const star of stars) {
              star.querySelector('i').classList.remove('selected');
            }
          });

          star.addEventListener('click', function () {
            const currentIndex = parseInt(this.getAttribute('data-value'), 10);
            for (let i = 0; i < currentIndex; i++) {
              stars[i].querySelector('i').classList.add('selected');
            }
            ratingInput.value = currentIndex;
            star_id = value;
          });
        }
        for (let i = 0; i < stars.length; i++) {
          stars[i].addEventListener("click", function () {
            let rating = this.dataset.value;
            document.getElementById("rating").value = rating;
            for (let j = 0; j < stars.length; j++) {
              if (j <= rating - 1) {
                stars[j].style.color = "orange";
              } else {
                stars[j].style.color = "#999";
              }
            }
          });
        }
      </script>

</body>

</html>